<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>登录</title>
    <link href="__STATIC__/assets/css/bootstrap.css" rel="stylesheet" />
    <link href="__STATIC__/assets/css/font-awesome.css" rel="stylesheet" />
</head>
<body style="background-color: #dddddd;">
    <div class="container">
        <div class="row text-center " style="padding-top:100px;">
            <div class="col-md-12">
                <img style="padding-left: 55px;width: 45%;" src="__STATIC__/assets/img/logo_title.png" alt="">
            </div>
        </div>
         <div class="row ">
                <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1">
                            <div class="panel-body">
                                    <hr />
                                    <h5>请输入登录详细信息</h5>
                                       <br />
                                     <div class="form-group input-group">
                                            <span class="input-group-addon"><i class="fa fa-tag"  ></i></span>
                                            <input type="text" id="username" class="form-control"  placeholder="请输入你的用户名" />
                                        </div>
                                        <div class="form-group input-group">
                                            <span class="input-group-addon"><i class="fa fa-lock"  ></i></span>
                                            <input type="password" id="pwd" class="form-control"  placeholder="请输入你的密码" />
                                        </div>

                                     <div class="text-center">
                                         <button  class="btn btn-primary " id="login">登录</button>
                                     </div>
                                    <hr />
                            </div>
                        </div>
        </div>
    </div>

</body>
<script src="__JS__/jquery-3.2.1.js"></script>
<script>
    function regexp_num_letter(obj)
    {
        var reg = /^[A-Za-z0-9]+$/;//制定规则只能英文字母或数字
        var regobj = new RegExp(reg);//创建正则对象
        var res = regobj.test(obj);//将元素进行验证结果给rs
        return res;
    }
    //登录
    $(function () {
        $("#login").click(function () {
            var userName = $("#username").val();
            var pwd  = $("#pwd").val();
            var re = regexp_num_letter(userName);
            var pflg = regexp_num_letter(pwd);
            console.log(re,pflg);
            if(username == "" || pwd == "")
            {
                alert("用户名或密码不能为空");
            }
            else if(re == false || pflg == false)
            {
                alert("用户名或密码错误");
            }
            else
            {
                $.ajax({
                    type:"post",
                    url:'{:url("index/login/loginverify")}',
                    dataType:"json",
                    data:{ username:userName,password:pwd },
                    success:function(res)
                    {
                        if(res.code == 10000)
                        {
                            alert(res.msg);
                            window.location.href = '{:url("index/index/index")}';
                        }
                        else
                        {
                            alert(res.msg);
                        }
                    }
                });
            }
            $("#username").val('');
            $("#pwd").val('');
        });
    });
</script>
</html>
